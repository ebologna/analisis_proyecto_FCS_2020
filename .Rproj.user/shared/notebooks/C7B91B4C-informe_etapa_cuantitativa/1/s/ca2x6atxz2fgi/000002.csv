"0","datos$fuente_ingresos_principal<-"
"0","  datos$`7.2 ¿La persona que aporta el principal ingreso en el hogar, lo hace por?`"
"0",""
"0","# se genera una culumna por opción"
"0","datos<-separate(datos, fuente_ingresos_principal,"
"0","                c(""p1"", ""p2"", ""p3""), sep="","")"
"0",""
"0","# se quitan espacios antes"
"0","datos$p1= trimws(datos$p1, which = ""b"")"
"0","datos$p2= trimws(datos$p2, which = ""b"")"
"0","datos$p3= trimws(datos$p3, which = ""b"")"
"0",""
"0",""
"0","datos$fuente_ppal_alquileres<-ifelse((datos$p1==""Cobro de alquileres o renta"" |"
"0","                                datos$p2==""Cobro de alquileres o renta"" |"
"0","                                datos$p3==""Cobro de alquileres o renta""),"
"0","                                ""Cobro de alquileres o renta"", NA)"
"0",""
"0",""
"0","datos$fuente_ppal_negocio_propio<-ifelse((datos$p1==""Empresa o negocio propio"" |"
"0","                                         datos$p2==""Empresa o negocio propio"" |"
"0","                                         datos$p3==""Empresa o negocio propio""), ""Empresa o negocio propio"", NA)"
"0",""
"0",""
"0","datos$fuente_ppal_eventual<-ifelse(datos$p1==""Eventual (por changas)"" |"
"0","                             datos$p2==""Eventual (por changas)"" |"
"0","                             datos$p3==""Eventual (por changas)"","
"0","                           ""Eventual (por changas)"", NA)"
"0",""
"0","datos$fuente_ppal_jubilacion<-ifelse((datos$p1==""Jubilación / pensión"" |"
"0","                                   datos$p2==""Jubilación / pensión"" |"
"0","                                   datos$p3==""Jubilación / pensión""),"
"0","                                ""Jubilación / pensión"", NA)"
"0",""
"0","datos$fuente_ppal_plan<-ifelse((datos$p1==""Plan o programa estatal"" |"
"0","                             datos$p2==""Plan o programa estatal"" |"
"0","                             datos$p3==""Plan o programa estatal""),"
"0","                             ""Plan o programa estatal"", NA)"
"0",""
"0",""
"0","datos$fuente_ppal_trabajo_formal<-ifelse((datos$p1==""Trabajo formal"" |"
"0","                                  datos$p2==""Trabajo formal"" |"
"0","                                  datos$p3==""Trabajo formal""),"
"0","                               ""Trabajo formal"", NA)"
"0",""
"0",""
"0","datos$fuente_ppal_trabajo_informal<-ifelse((datos$p1==""Trabajo informal (en negro)""| datos$p2==""Trabajo informal (en negro)"" | datos$p3==""Trabajo informal (en negro)""),""Trabajo informal (en negro)"", NA)"
"0",""
"0",""
"0","alquileres<-addmargins(table(datos$fuente_ppal_alquileres, datos$nse),2)"
"0","negocio_propio<-addmargins(table(datos$fuente_ppal_negocio_propio, datos$nse),2)"
"0","eventual<-addmargins(table(datos$fuente_ppal_eventual, datos$nse), 2)"
"0","jubilacion<-addmargins(table(datos$fuente_ppal_jubilacion, datos$nse), 2)"
"0","plan<-addmargins(table(datos$fuente_ppal_plan, datos$nse), 2)"
"0","trabajo_formal<-addmargins(table(datos$fuente_ppal_trabajo_formal, datos$nse), 2)"
"0","trabajo_informal<-addmargins(table(datos$fuente_ppal_trabajo_informal, datos$nse), 2)"
"0",""
"0","fuente_de_ingresos_ppal_abs<-rbind(trabajo_formal,"
"0","                                   trabajo_informal,  negocio_propio,"
"0","                                   jubilacion, alquileres,"
"0","                                  eventual, plan)"
"0",""
"0","fuente_de_ingresos_ppal_rel<-100*round(rbind(trabajo_formal/totales,"
"0","                                        trabajo_informal/totales, "
"0","                                        negocio_propio/totales,"
"0","                                        jubilacion/totales, alquileres/totales,"
"0","                                        eventual/totales, plan/totales),3)"
"0",""
