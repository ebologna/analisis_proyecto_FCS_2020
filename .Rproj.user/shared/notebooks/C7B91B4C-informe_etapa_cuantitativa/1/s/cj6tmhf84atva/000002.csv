"0","# se genera otra columna"
"0","datos$fuente_ingresos<-datos$`6.2 En el último año, los ingresos de las personas provinieron de...?`"
"0",""
"0","#  Se cambian las comas por guiones"
"0",""
"0","datos$fuente_ingresos <- lapply(datos$fuente_ingresos,"
"0","                                gsub, pattern=""( IFE, Progresar, PPP)"","
"0","                  replacement='IFE-Progresar-PPP')"
"0",""
"0","# se genera una culumna por opción"
"0","datos<-separate(datos, fuente_ingresos,"
"0","                c(""f1"", ""f2"", ""f3"", ""f4""), sep="","")"
"0",""
"0",""
"0","# se quitan espacios antes"
"0","datos$f1= trimws(datos$f1, which = ""b"")"
"0","datos$f2= trimws(datos$f2, which = ""b"")"
"0","datos$f3= trimws(datos$f3, which = ""b"")"
"0","datos$f4= trimws(datos$f4, which = ""b"")"
"0",""
"0","# cada fuente es 1 si está en algna columna"
"0","datos$fuente_trabajo<-ifelse((datos$f1==""Trabajo"" |"
"0","                        datos$f2==""Trabajo"" |"
"0","                        datos$f3==""Trabajo"" |"
"0","                        datos$f4==""Trabajo""), ""trabajo"", NA)"
"0",""
"0","datos$fuente_programa_estatal<-ifelse((datos$f1==""Programa estatal (IFE-Progresar-PPP)"" |"
"0","                                datos$f2==""Programa estatal (IFE-Progresar-PPP)"" |"
"0","                                datos$f3==""Programa estatal (IFE-Progresar-PPP)"" |"
"0","                                datos$f4==""Programa estatal (IFE-Progresar-PPP)""), ""programa estatal"", NA)"
"0",""
"0",""
"0","datos$fuente_ayuda<-ifelse(datos$f1==""Ayuda social o familiar"" |"
"0","                                datos$f2==""Ayuda social o familiar"" |"
"0","                                datos$f3==""Ayuda social o familiar"" |"
"0","                                datos$f4==""Ayuda social o familiar"","
"0","                           ""ayuda social o familiar"", NA)"
"0",""
"0","datos$fuente_jubilacion<-ifelse((datos$f1==""Jubilación / Pensión"" |"
"0","                              datos$f2==""Jubilación / Pensión"" |"
"0","                              datos$f3==""Jubilación / Pensión"" |"
"0","                              datos$f4==""Jubilación / Pensión""),"
"0","                              ""jubilación/pensión"", NA)"
"0",""
"0","datos$fuente_otra<-ifelse((datos$f1==""Otra fuente"" |"
"0","                                   datos$f2==""Otra fuente"" |"
"0","                                   datos$f3==""Otra fuente"" |"
"0","                                   datos$f4==""Otra fuente""), ""otra fuente de ingresos"", NA)"
"0","datos$fuente_otra[datos$fuente_otra==0]<-NA"
"0",""
"0",""
"0","trabajo<-addmargins(table(datos$fuente_trabajo, datos$nse),2)"
"0","programa_estatal<-addmargins(table(datos$fuente_programa_estatal, datos$nse),2)"
"0","ayuda<-addmargins(table(datos$fuente_ayuda, datos$nse), 2)"
"0","jubilacion<-addmargins(table(datos$fuente_jubilacion, datos$nse), 2)"
"0","otra<-addmargins(table(datos$fuente_otra, datos$nse), 2)"
"0",""
"0","totales<-addmargins(table(datos$nse))"
"0","totales<-as.vector(totales[1:6])"
"0","fuente_de_ingresos_abs<-rbind(trabajo, jubilacion, programa_estatal,"
"0","                              ayuda, otra)"
"0",""
"0",""
"0","fuente_de_ingresos_rel<-100*round(rbind(trabajo/totales, jubilacion/totales,"
"0","                                        programa_estatal/totales,"
"0","                                        ayuda/totales, otra/totales),3)"
